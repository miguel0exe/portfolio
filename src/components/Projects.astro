---
import { Icon } from "astro-icon/components";

const projects = [
  {
    title: "Sistema de Citas Médicas",
    description:
      "Plataforma SaaS para gestión de pacientes y agendas de nutriólogos. Incluye sistema de notificaciones y pagos.",
    tags: ["Next.js 16", "PostgreSQL", "Docker", "Tailwind"],
    link: "#",
    github: "#",
    image: "bg-gradient-to-br from-blue-600/30 via-transparent to-slate-900/0",
    span: "md:col-span-2",
  },
  {
    title: "Cloud Storage API",
    description:
      "Servicio backend híbrido para gestión de archivos. Carga local en desarrollo y Cloudinary en producción.",
    tags: ["NestJS", "TypeScript", "Cloudinary", "API REST"],
    link: "#",
    github: "#",
    image:
      "bg-gradient-to-br from-emerald-600/30 via-transparent to-slate-900/0",
    span: "md:col-span-1",
  },
  {
    title: "Enterprise Dashboard",
    description:
      "Panel administrativo modular con autenticación robusta y roles de usuario. Arquitectura de Microfronts.",
    tags: ["React", "Redux", "Java Spring", "Microservices"],
    link: "#",
    github: "#",
    image:
      "bg-gradient-to-br from-orange-600/30 via-transparent to-slate-900/0",
    span: "md:col-span-1",
  },
  {
    title: "Portafolio Personal V2",
    description:
      "Este sitio web. Optimizado para SEO y performance perfecto (100/100 Lighthouse).",
    tags: ["Astro", "Tailwind", "Framer Motion"],
    link: "#",
    github: "#",
    image:
      "bg-gradient-to-br from-purple-600/30 via-transparent to-slate-900/0",
    span: "md:col-span-2",
  },
];
---

<section id="proyectos" class="py-24 relative">
  <div
    class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/dark-matter.png')] opacity-30"
  >
  </div>

  <div class="max-w-6xl mx-auto px-6 relative z-10">
    <h2 class="text-4xl text-center mb-16 text-[#C8AA6E]">
      <span class="text-2xl block text-[#a8a29e] mb-2 font-serif italic"
        >Artefactos Mágicos</span
      >
      GRIMORIO
    </h2>
    <span
      class="text-[#C8AA6E] font-cinzel text-lg tracking-widest border border-[#C8AA6E] px-4 py-2 bg-black/80"
    >
      LANZAR HECHIZO
    </span>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
      {
        projects.map((project) => (
          <article class="group relative bg-[#1c1917] border border-[#44403c] hover:border-[#C8AA6E] transition-all duration-500 hover:-translate-y-2">
            <div class="absolute top-0 left-0 w-2 h-2 border-t border-l border-[#C8AA6E]" />
            <div class="absolute top-0 right-0 w-2 h-2 border-t border-r border-[#C8AA6E]" />
            <div class="absolute bottom-0 left-0 w-2 h-2 border-b border-l border-[#C8AA6E]" />
            <div class="absolute bottom-0 right-0 w-2 h-2 border-b border-r border-[#C8AA6E]" />

            <div class="h-48 bg-[#0c0a09] border-b border-[#44403c] relative overflow-hidden group-hover:opacity-90 transition-opacity">
              <div class={`absolute inset-0 opacity-40 ${project.image}`} />
              {/* <img src={project.image} alt={project.title} class="absolute inset-0 w-full h-full object-cover opacity-30 group-hover:opacity-50 transition-opacity duration-500 grayscale group-hover:grayscale-0" /> */}
              <div class="absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-500">
                <span class="text-[#C8AA6E] font-cinzel text-lg tracking-widest border border-[#C8AA6E] px-4 py-2 bg-black/80">
                  CAST SPELL
                </span>
              </div>
            </div>

            <div class="p-6">
              <h3 class="text-xl font-bold text-[#e7e5e4] mb-2 font-cinzel">
                {project.title}
              </h3>
              <p class="text-[#a8a29e] font-serif italic text-sm mb-4 leading-relaxed">
                {project.description}
              </p>

              <div class="flex flex-wrap gap-2 mt-auto">
                {project.tags.map((tag) => (
                  <span class="text-[10px] uppercase tracking-widest text-[#C8AA6E] border border-[#C8AA6E]/30 px-2 py-1">
                    {tag}
                  </span>
                ))}
              </div>
            </div>
          </article>
        ))
      }
    </div>
  </div>
</section>
<script>
  const cards = document.querySelectorAll(".spotlight-card");
  cards.forEach((card) => {
    const htmlCard = card as HTMLElement;
    htmlCard.addEventListener("mousemove", (e) => {
      const rect = htmlCard.getBoundingClientRect();
      const x = e.clientX - rect.left;
      const y = e.clientY - rect.top;
      htmlCard.style.setProperty("--mouse-x", `${x}px`);
      htmlCard.style.setProperty("--mouse-y", `${y}px`);
    });
  });
</script>

<style>
  @keyframes pulse-slow {
    0%,
    100% {
      opacity: 0.5;
      transform: scale(1);
    }
    50% {
      opacity: 0.8;
      transform: scale(1.1);
    }
  }
  .animate-pulse-slow {
    animation: pulse-slow 8s infinite ease-in-out;
  }
</style>
